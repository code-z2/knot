name = "relay-proxy"
main = "src/index.ts"
compatibility_date = "2026-02-11"

[observability]
enabled = true
head_sampling_rate = 1.0

[[routes]]
pattern = "relay.knot.fi"
custom_domain = true

[[routes]]
pattern = "upload.knot.fi"
custom_domain = true

[vars]
GELATO_RPC_TEMPLATE = "https://api.gelato.cloud/rpc/{chainId}?apiKey={apiKey}"
INITIAL_CREDIT_USDC = "2"
FLOOR_LIMITED_TESTNET_USDC = "-10"
FLOOR_LIMITED_MAINNET_USDC = "-2"
FLOOR_FULL_MAINNET_USDC = "0"
USDC_DECIMALS = "6"
PINATA_SIGN_EXPIRES_SECONDS = "120"
PINATA_MAX_FILE_SIZE_BYTES = "10485760"
PINATA_GROUP_FIELD = "group_id"
FAUCET_RPC_SEPOLIA = ""
FAUCET_RPC_BASE_SEPOLIA = ""
FAUCET_RPC_ARB_SEPOLIA = ""

[[kv_namespaces]]
binding = "GAS_TANK_KV"
id = "9899238f13454a319ec6ea19a20e6f18"

[[kv_namespaces]]
binding = "FAUCET_FUNDING_KV"
id = "9899238f13454a319ec6ea19a20e6f18"
