name = "relay-proxy"
main = "src/index.ts"
compatibility_date = "2026-02-11"

[observability]
enabled = true
head_sampling_rate = 1.0

[[routes]]
pattern = "relay.knot.fi"
custom_domain = true

[[routes]]
pattern = "upload.knot.fi"
custom_domain = true

[vars]
INITIAL_CREDIT_NATIVE = "2"
FLOOR_LIMITED_TESTNET_NATIVE = "-10"
FLOOR_LIMITED_MAINNET_NATIVE = "-2"
FLOOR_FULL_MAINNET_NATIVE = "0"
PINATA_SIGN_EXPIRES_SECONDS = "120"
PINATA_MAX_FILE_SIZE_BYTES = "10485760"

[[kv_namespaces]]
binding = "GAS_TANK_KV"
id = "9899238f13454a319ec6ea19a20e6f18"

[[kv_namespaces]]
binding = "FAUCET_FUNDING_KV"
id = "9899238f13454a319ec6ea19a20e6f18"

[[durable_objects.bindings]]
name = "FAUCET_TRACKER_DO"
class_name = "FaucetTracker"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["FaucetTracker"]
